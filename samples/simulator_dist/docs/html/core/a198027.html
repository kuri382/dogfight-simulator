<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ASRCAISim1: ルールベースの初期行動判断モデル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="asrc_doc_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ASRCAISim1
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('a198027.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ルールベースの初期行動判断モデル </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>本シミュレータは簡易なルールベースによる初期行動判断モデルを <a class="elRef" href="../BasicAirToAirCombatModels01/index.html#mainpage_BasicAirToAirCombatModels01">BasicAirToAirCombatModels01</a>プラグインに <a class="elRef" href="../BasicAirToAirCombatModels01/a192266.html">BasicAACRuleBasedAgent01</a> クラスとして提供している。本項ではその概要を示す。</p>
<p>なお、このルールベースモデルは第4回空戦AIチャレンジのシナリオに沿ったものではなく、 護衛対象機の護衛や撃墜を一切考慮せずに単純な空対空戦闘を行うだけのごく基本的なものであることに留意されたい。</p>
<h1 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_trackinfo"></a>
航跡に対する付帯情報</h1>
<p>初期行動判断モデルでは、自編隊センサから得ていた航跡情報をそのまま用いるのではなく、 以下の情報を付帯情報として付与して行動判断を行う。</p>
<ol type="1">
<li>センサが失探した瞬間に何もできなくならないように、失探後も更に <picture><source srcset="form_0_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$t_{memory}$" src="form_0.svg" width="60" height="18"/></picture>秒間 メモリトラックによって航跡を保持する。</li>
<li>以下の２種類の射程を計算する。彼我ともに同じ性能と仮定し、彼我ともに直ちに水平飛行に 移行して等速直線運動を行った場合の射程である。<ul>
<li><picture><source srcset="form_1_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{head}$" src="form_1.svg" width="42" height="18"/></picture> ･･･目標が直ちに自機を正面に向けて飛んだ場合の最大射程。</li>
<li><picture><source srcset="form_2_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{tail}$" src="form_2.svg" width="35" height="18"/></picture> ･･･目標が直ちに自機に背を向けて飛んだ場合の最大射程。</li>
</ul>
</li>
</ol>
<div class="image">
<img src="missile_range_concept.png" alt=""/>
<div class="caption">
各射程の概念図</div></div>
<ol type="1">
<li>目標に対する各機のセンシング状況を以下の３種類に分類する。<ul>
<li>OUTSIDE･･･基準探知距離、基準探知角範囲の外に存在する場合。</li>
<li>INSIDE･･･基準探知距離から <picture><source srcset="form_3_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$L_{limit}$" src="form_3.svg" width="44" height="18"/></picture>[m]以上内側かつ 覆域端から <picture><source srcset="form_4_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{limit}$" src="form_4.svg" width="40" height="18"/></picture>[deg]以上内側に存在する場合。 設定パラメータの値によっては、追加で自身が回避中でも離脱中でもないこと、という条件も付加できる。</li>
<li>LIMIT･･･OUTSIDE と INSIDE の中間に存在する場合又は自身の状態によって INSIDE ではないとして扱われた場合。</li>
</ul>
</li>
</ol>
<div class="image">
<img src="sensing_state.png" alt=""/>
<div class="caption">
センシング状況の分類</div></div>
<ol type="1">
<li>自編隊のどの機体によって探知された航跡なのかを識別するため、航跡供給元の機体名の情報を保持する。</li>
</ol>
<p>航跡の付帯情報に関する設定パラメータは下表の通りである。</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数名  </th><th class="markdownTableHeadNone">意味  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">基準値  </th><th class="markdownTableHeadNone">単位  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">tMaxMemory  </td><td class="markdownTableBodyNone">独自メモリトラックの秒数。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_0_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$t_{memory}$" src="form_0.svg" width="60" height="18"/></picture>  </td><td class="markdownTableBodyNone">10  </td><td class="markdownTableBodyNone">s  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sensorInCoverageLimit  </td><td class="markdownTableBodyNone">センシング状況を INSIDE と判定するための角度。覆域端からどれだけ内側かという形式で指定する。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_3_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$L_{limit}$" src="form_3.svg" width="44" height="18"/></picture>  </td><td class="markdownTableBodyNone">10,000  </td><td class="markdownTableBodyNone">m  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sensorInCoverageLimit  </td><td class="markdownTableBodyNone">センシング状況を INSIDE と判定するための角度。覆域端からどれだけ内側かという形式で指定する。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_4_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{limit}$" src="form_4.svg" width="40" height="18"/></picture>  </td><td class="markdownTableBodyNone">5  </td><td class="markdownTableBodyNone">deg  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">considerStateForTrackingCondition  </td><td class="markdownTableBodyNone">センシング状況が INSIDE と判定される領域で、自身が回避中又は離脱中である場合にはセンシング状況を LIMIT とするかどうかのフラグ。  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">true  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<p>また、これらの付帯情報を付加した航跡を json 化する際には<a class="el" href="a198016.html#section_simulation_Track_Track3D_json">Track3Dの情報</a>に加えて下表の値が追加される。</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">key  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">型  </th><th class="markdownTableHeadNone">概要  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">idx  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">int  </td><td class="markdownTableBodyNone">対応する元の航跡のリストインデックス  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">distance  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">float  </td><td class="markdownTableBodyNone">自機との距離  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">myRHead  </td><td class="markdownTableBodyNone"><picture><source srcset="form_1_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{head}$" src="form_1.svg" width="42" height="18"/></picture>  </td><td class="markdownTableBodyNone">float  </td><td class="markdownTableBodyNone">自機からこの航跡へ射撃する際の <picture><source srcset="form_1_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{head}$" src="form_1.svg" width="42" height="18"/></picture>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">myRTail  </td><td class="markdownTableBodyNone"><picture><source srcset="form_2_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{tail}$" src="form_2.svg" width="35" height="18"/></picture>  </td><td class="markdownTableBodyNone">float  </td><td class="markdownTableBodyNone">自機からこの航跡へ射撃する際の <picture><source srcset="form_2_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{tail}$" src="form_2.svg" width="35" height="18"/></picture>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hisRHead  </td><td class="markdownTableBodyNone"><picture><source srcset="form_1_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{head}$" src="form_1.svg" width="42" height="18"/></picture>  </td><td class="markdownTableBodyNone">float  </td><td class="markdownTableBodyNone">この目標から自機へ射撃する際の <picture><source srcset="form_1_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{head}$" src="form_1.svg" width="42" height="18"/></picture>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hisRTail  </td><td class="markdownTableBodyNone"><picture><source srcset="form_2_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{tail}$" src="form_2.svg" width="35" height="18"/></picture>  </td><td class="markdownTableBodyNone">float  </td><td class="markdownTableBodyNone">この目標から自機へ射撃する際の <picture><source srcset="form_2_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{tail}$" src="form_2.svg" width="35" height="18"/></picture>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">inOurSensor  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">str  </td><td class="markdownTableBodyNone">自編隊によるセンシング状況。  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">inMySensor  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">str  </td><td class="markdownTableBodyNone">自機によるセンシング状況。  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">numTracker  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">int  </td><td class="markdownTableBodyNone">この目標を探知できている機体の数  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">numTrackerLimit  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">int  </td><td class="markdownTableBodyNone">この目標を LIMIT の状態で探知している機体の数  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">trackers  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">list[str]  </td><td class="markdownTableBodyNone">この目標を探知できている機体名のリスト  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">limitTrackers  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">list[str]  </td><td class="markdownTableBodyNone">この目標を LIMIT の状態で探知している機体の数  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nonLimitTrackers  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">list[str]  </td><td class="markdownTableBodyNone">この目標を INSIDE の状態で探知している機体の数  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">state  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">str  </td><td class="markdownTableBodyNone">この目標の更新状況。少なくとも 1 機が探知中でその情報で更新中なら"TRACK"、メモリトラック中なら"MEMORT"、メモリトラック上限時間に達したら"LOST"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">memoryStartTime  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">float  </td><td class="markdownTableBodyNone">メモリトラックを開始した時刻  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_target_selection"></a>
目標選択</h1>
<p>初期行動判断モデルモデルは最低限の味方との連携を実現するために、 行動の対象を主目標と副目標に分けて考える。 主目標は接近や射撃等の対象であり、各機１機のみを選ぶ。 副目標はなるべく探知できるように心がける対象であり、 味方の主目標と、誘導弾が飛翔中の目標を指すものとする。 主目標の選択要領は以下のとおりとする。</p>
<ol type="1">
<li>主目標の候補は、自編隊センサで得ている全航跡と、メモリトラック中の副目標とする。</li>
<li>対象が自陣に十分近いか、敵陣側扇形範囲内に対象を捉えている味方がいない、のいずれかを満たす 候補が存在した場合、その候補を突破阻止対象として扱い、主目標が未割当の味方のうちその候補に最も近い味方の主目標として割り当てる。</li>
<li>突破阻止対象を割り当てられなかった機体はそれぞれ自身から距離が最も近い候補を主目標として選択する。</li>
</ol>
<div class="image">
<img src="leaker_check.png" alt=""/>
<div class="caption">
突破阻止対象の判定(a…距離による判定、b…角度による判定)</div></div>
<p>設定パラメータは下表のとおり。</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数名  </th><th class="markdownTableHeadNone">意味  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">基準値  </th><th class="markdownTableHeadNone">単位  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dPrioritizedAimLeaker  </td><td class="markdownTableBodyNone">相手を Leaker と判定する、自陣からの距離。Ruler のdLineに対する比で表す。  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">-1  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">thetaPrioritizedAimLeaker  </td><td class="markdownTableBodyNone">相手を Leaker と判定する、扇形範囲の中心角。  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">180  </td><td class="markdownTableBodyNone">deg  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_state"></a>
行動の種類</h1>
<p>初期行動判断モデルは、下表の 5 種類の state 間を遷移しながら行動を決定していく。 これらの state に離散的なイベントである射撃を加えた 6 種類の状態の遷移が本基準モデルの基本的な振る舞いであり、 その概要を図示すると下図のようになる。</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数 state の値  </th><th class="markdownTableHeadNone">本書での表現  </th><th class="markdownTableHeadNone">概要  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ADVANCE  </td><td class="markdownTableBodyNone">前進  </td><td class="markdownTableBodyNone">敵陣側へまっすぐ前進する。副目標を捉えるために少し方位をずらすこともある。  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">APPROACH_TARGET  </td><td class="markdownTableBodyNone">接近  </td><td class="markdownTableBodyNone">主目標の存在する方位に向かって進む。副目標を捉えるために少し方位をずらすこともある。  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">KEEP_SENSING  </td><td class="markdownTableBodyNone">横行  </td><td class="markdownTableBodyNone">主目標を覆域端に捉えるように飛行する。副目標を捉えるために少し方位をずらすこともある。  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RTB  </td><td class="markdownTableBodyNone">後退  </td><td class="markdownTableBodyNone">燃料が足りなくなりそうな場合に自陣側へ後退しようと試みる。  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WITHDRAW  </td><td class="markdownTableBodyNone">離脱  </td><td class="markdownTableBodyNone">トリガーとなった彼機から離れるように離脱する。  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EVADE  </td><td class="markdownTableBodyNone">回避  </td><td class="markdownTableBodyNone">検知した誘導弾に背を向けてダイブし、回避を試みる。  </td></tr>
</table>
<div class="image">
<img src="state_transition.png" alt="" width="100%"/>
<div class="caption">
基本となる状態遷移</div></div>
<h1 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_normal_state"></a>
(s1)通常時の行動</h1>
<p>回避や離脱を行っていない「(s1)通常時」の行動については、以下のフローに従って選択するものとする。</p><ol type="1">
<li>「後退」でないときに余剰燃料が一定値未満になった場合、必ず「後退」とする。</li>
<li>「後退」しているときに余剰燃料が一定値以上になった場合、3.～7.に従って「後退」以外の行動を選択するものとする。</li>
<li>見えている彼機が存在しない、自身が彼防衛ラインに近い、自身から見て彼防衛ライン側扇形範囲内に彼機が存在しない、のいずれかを満たす場合、必ず「前進」とする。</li>
<li>自身の主目標が突破阻止対象であるとき、必ず「接近」とする。</li>
<li>自身の主目標を味方が余裕をもって捉えているとき、確率で「前進」「接近」「横行」から選択する。</li>
<li>自身の主目標を味方が余裕をもって捉えてはおらず、自身でも余裕をもって捉えていないとき、必ず「接近」とする。</li>
<li>自身の主目標を味方が余裕をもって捉えてはおらず、自身は余裕をもって捉えているとき、確率で「接近」「横行」から選択する。</li>
<li>行動選択後 <picture><source srcset="form_9_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$t_{reconsider}$" src="form_9.svg" width="75" height="16"/></picture>経過、主目標又は探知状況の変化、後退、離脱又は回避のいずれかが発生した場合は再選択を行う。</li>
</ol>
<p>上記のうち3.～7.のフローを図示すると下図のようになり、設定可能なパラメータは下表のとおりである。</p>
<div class="image">
<img src="state_transition_normal.png" alt="" width="100%"/>
<div class="caption">
通常時の行動選択フロー</div></div>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数名  </th><th class="markdownTableHeadNone">意味  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">基準値  </th><th class="markdownTableHeadNone">単位  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">reconsiderationCycle  </td><td class="markdownTableBodyNone">通常時の行動判断を再実施するまでの時間  </td><td class="markdownTableBodyNone"><picture><source srcset="form_9_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$t_{reconsider}$" src="form_9.svg" width="75" height="16"/></picture>  </td><td class="markdownTableBodyNone">10  </td><td class="markdownTableBodyNone">s  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RTBEnterMargin  </td><td class="markdownTableBodyNone">「後退」を開始する余剰燃料量  </td><td class="markdownTableBodyNone"><picture><source srcset="form_10_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$L_{margin1}$" src="form_10.svg" width="65" height="19"/></picture>  </td><td class="markdownTableBodyNone">0  </td><td class="markdownTableBodyNone">m  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RTBExitMargin  </td><td class="markdownTableBodyNone">「後退」を終了する余剰燃料量  </td><td class="markdownTableBodyNone"><picture><source srcset="form_11_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$L_{margin2}$" src="form_11.svg" width="67" height="19"/></picture>  </td><td class="markdownTableBodyNone">0  </td><td class="markdownTableBodyNone">m  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">thetaKeepSensing  </td><td class="markdownTableBodyNone">横行時に目標を収めようとする、覆域端からの角度。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_12_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{keep}$" src="form_12.svg" width="35" height="19"/></picture>  </td><td class="markdownTableBodyNone">10  </td><td class="markdownTableBodyNone">deg  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dPrioritizedAdvance  </td><td class="markdownTableBodyNone">前進を優先する、敵陣からの距離。Ruler の dLine に対する比で表す。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_13_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$r_{adv}$" src="form_13.svg" width="32" height="12"/></picture>  </td><td class="markdownTableBodyNone">-1  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">thetaPrioritizedAdvance  </td><td class="markdownTableBodyNone">前進を優先する、扇形範囲の中心角。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_14_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{adv}$" src="form_14.svg" width="30" height="18"/></picture>  </td><td class="markdownTableBodyNone">180  </td><td class="markdownTableBodyNone">deg  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pAdvanceAlly  </td><td class="markdownTableBodyNone">条件3.において「前進」を選ぶ重み。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_15_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$p_{Ally,Adv}$" src="form_15.svg" width="67" height="14"/></picture>  </td><td class="markdownTableBodyNone">0  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">pApproachAlly  </td><td class="markdownTableBodyNone">条件3.において「接近」を選ぶ重み。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_16_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$p_{Ally,App}$" src="form_16.svg" width="67" height="14"/></picture>  </td><td class="markdownTableBodyNone">60  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pKeepSensingAlly  </td><td class="markdownTableBodyNone">条件3.において「横行」を選ぶ重み。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_17_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$p_{Ally,Keep}$" src="form_17.svg" width="74" height="14"/></picture>  </td><td class="markdownTableBodyNone">40  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">pApproachMySelf  </td><td class="markdownTableBodyNone">条件5.において「接近」を選ぶ重み。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_18_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$p_{Self,Adv}$" src="form_18.svg" width="67" height="14"/></picture>  </td><td class="markdownTableBodyNone">60  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pKeepSensingMySelf  </td><td class="markdownTableBodyNone">条件5.において「横行」を選ぶ重み。  </td><td class="markdownTableBodyNone"><picture><source srcset="form_21_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$p_{Self,Keep}$" src="form_21.svg" width="75" height="14"/></picture>  </td><td class="markdownTableBodyNone">40  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_shoot"></a>
(a1)射撃</h1>
<p>初期行動判断モデルは、自機が射撃可能な状態(弾切れでなく、人間介入モデルに射撃出力を処理する余力があること) であるときに1.～3.の射撃条件を全て満たす航跡がある場合に、射撃を試みるものとする。</p>
<ol type="1">
<li>その航跡との距離を、 <picture><source srcset="form_2_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{tail}$" src="form_2.svg" width="35" height="18"/></picture>を0、 <picture><source srcset="form_23_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{Head}$" src="form_23.svg" width="47" height="18"/></picture>を1として線形変換した値 <picture><source srcset="form_24_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$r$" src="form_24.svg" width="11" height="9"/></picture>が <picture><source srcset="form_25_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$r &lt; k_{shoot}$" src="form_25.svg" width="75" height="18"/></picture>以下であること。</li>
<li>その航跡を自編隊のうち 1 機以上が余裕をもって捉えていること。</li>
<li>自身がその航跡に対して射撃した誘導弾のうち飛翔中のものが <picture><source srcset="form_26_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$N_{simul}$" src="form_26.svg" width="49" height="18"/></picture>発以下であること。</li>
</ol>
<p>射撃条件を満たした航跡が複数存在した場合は、条件1.における <picture><source srcset="form_24_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$r$" src="form_24.svg" width="11" height="9"/></picture>が最も小さい航跡を射撃対象として選択する。 各射撃条件のイメージは下図のとおりであり、設定パラメータは下表のとおりである。</p>
<div class="image">
<img src="shoot_condition.png" alt="" width="100%"/>
<div class="caption">
各射撃条件のイメージ</div></div>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数名  </th><th class="markdownTableHeadNone">意味  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">基準値  </th><th class="markdownTableHeadNone">単位  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">kShoot  </td><td class="markdownTableBodyNone">その航跡が射程内であると判定する閾値  </td><td class="markdownTableBodyNone"><picture><source srcset="form_27_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$k_{shoot}$" src="form_27.svg" width="42" height="18"/></picture>  </td><td class="markdownTableBodyNone">0.25  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nMslSimul  </td><td class="markdownTableBodyNone">1航跡に対する同時射撃数の上限  </td><td class="markdownTableBodyNone"><picture><source srcset="form_26_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$N_{simul}$" src="form_26.svg" width="49" height="18"/></picture>  </td><td class="markdownTableBodyNone">1  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_withdrawal"></a>
(s2)離脱</h1>
<p>初期行動判断モデルは、自身が保持している全ての航跡を対象とし、彼側の <picture><source srcset="form_2_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{tail}$" src="form_2.svg" width="35" height="18"/></picture>を0、 <picture><source srcset="form_23_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$R_{Head}$" src="form_23.svg" width="47" height="18"/></picture>を1として線形変換した値 <picture><source srcset="form_24_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$r$" src="form_24.svg" width="11" height="9"/></picture>が <picture><source srcset="form_30_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$r &lt; k_{break}$" src="form_30.svg" width="77" height="18"/></picture>以下となった航跡が一つでも存在した場合、 その航跡に背を向けられる方位に向けて離脱を行うものとする。 複数の航跡が条件を満たしていた場合は、それらの間隔が最も広く空いている方位に向けて離脱を行うものとする。 離脱の終了は、離脱条件を満たす航跡が存在しない状態が <picture><source srcset="form_31_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$t_{withdraw}$" src="form_31.svg" width="68" height="16"/></picture>秒継続したときとする。</p>
<p>射撃条件のイメージは下図のとおりであり、設定パラメータは下表のとおりである。</p>
<div class="image">
<img src="withdrawal_condition.png" alt=""/>
<div class="caption">
離脱条件のイメージ</div></div>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数名  </th><th class="markdownTableHeadNone">意味  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">基準値  </th><th class="markdownTableHeadNone">単位  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">kBreak  </td><td class="markdownTableBodyNone">その航跡からの射程内であると判定する閾値  </td><td class="markdownTableBodyNone"><picture><source srcset="form_27_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$k_{shoot}$" src="form_27.svg" width="42" height="18"/></picture>  </td><td class="markdownTableBodyNone">0.2  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">tWithdraw  </td><td class="markdownTableBodyNone">離脱条件を満たさなくってから離脱を終了するまでの待機時間  </td><td class="markdownTableBodyNone"><picture><source srcset="form_31_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$t_{withdraw}$" src="form_31.svg" width="68" height="16"/></picture>  </td><td class="markdownTableBodyNone">50  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_evasion"></a>
(s3)回避</h1>
<p>初期行動判断モデルは、自機の <a class="el" href="a193481.html">MWS</a> が誘導弾を検知している場合、最優先で回避を試みるものとする。 回避は検知した弾と反対の方位に降下角度 <picture><source srcset="form_33_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{evasion}$" src="form_33.svg" width="56" height="18"/></picture>、下限高度 <picture><source srcset="form_34_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$h_{evasion}$" src="form_34.svg" width="58" height="18"/></picture>で全速力で降下することで行うものとし、 複数の弾を検知している場合は検知リストの先頭にあるものを対象として回避する。</p>
<p>設定パラメータは下表のとおり。</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数名  </th><th class="markdownTableHeadNone">意味  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">基準値  </th><th class="markdownTableHeadNone">単位  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">thetaEvasion  </td><td class="markdownTableBodyNone">回避時の降下角度  </td><td class="markdownTableBodyNone"><picture><source srcset="form_33_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{evasion}$" src="form_33.svg" width="56" height="18"/></picture>  </td><td class="markdownTableBodyNone">45  </td><td class="markdownTableBodyNone">deg  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hEvasion  </td><td class="markdownTableBodyNone">回避時の下限高度  </td><td class="markdownTableBodyNone"><picture><source srcset="form_34_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$h_{evasion}$" src="form_34.svg" width="58" height="18"/></picture>  </td><td class="markdownTableBodyNone">4,000  </td><td class="markdownTableBodyNone">m  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_route_correction"></a>
針路の補正</h1>
<p>初期行動判断モデルは、以上のロジックに従い行動を選択し、進行方向を計算するが、 その他に以下の三つの要素を考慮して進行方向の補正を行うものとする。</p>
<ol type="1">
<li><p class="startli">副目標の追尾</p>
<p class="startli">本来の針路から <picture><source srcset="form_43_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{extra}$" src="form_43.svg" width="42" height="18"/></picture>以内の変更によって自身が捉えられる副目標が増える場合、捉えられる副目標 が最大となるように針路を補正するものとする。</p>
</li>
<li><p class="startli">高度維持</p>
<p class="startli">回避中でないときは一定高度を維持しようと試みるものとする。 通常時は <picture><source srcset="form_44_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\pm \theta_{normal}$" src="form_44.svg" width="68" height="18"/></picture>以内のピッチ角で高度を <picture><source srcset="form_45_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$h_{normal}$" src="form_45.svg" width="56" height="18"/></picture>に、 離脱時は <picture><source srcset="form_46_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\pm \theta_{withdraw}$" src="form_46.svg" width="82" height="18"/></picture>以内のピッチ角で高度を <picture><source srcset="form_47_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$h_{withdraw}$" src="form_47.svg" width="70" height="18"/></picture>に、 後退時は <picture><source srcset="form_48_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\pm \theta_{RTB}$" src="form_48.svg" width="53" height="18"/></picture>以内のピッチ角で高度を <picture><source srcset="form_49_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$h_{RTB}$" src="form_49.svg" width="42" height="18"/></picture>に維持しようと試みるものとする。</p>
</li>
<li><p class="startli">場外の防止</p>
<p class="startli">南北方向の場外に出てしまうことを防ぐため、以下の三つの観点で補正を行うものとする。</p><ul>
<li>南北方向の場外から内側に <picture><source srcset="form_50_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$d_{limit,dir}$" src="form_50.svg" width="63" height="19"/></picture>の位置より外側にいるとき、 場外から内側に <picture><source srcset="form_51_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$d_{limit,ref}$" src="form_51.svg" width="67" height="19"/></picture>に引いた判定ラインを超過した距離に応じた補正量で外側への進行を制限する。</li>
<li>北方向の場外から内側に <picture><source srcset="form_52_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$d_{limit,keep}$" src="form_52.svg" width="72" height="19"/></picture>の位置より外側で横行機動を開始するときは、候補となる二つの 進行方向のうち、戦域中心に近づく方を選択するものとする。</li>
<li>南北方向の場外から内側に <picture><source srcset="form_58_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$d_{limit,turn}$" src="form_58.svg" width="74" height="19"/></picture>の位置より外側にいるとき、目標針路への旋回は場外側に向かないような旋回軸で実施するものとする。</li>
</ul>
</li>
</ol>
<p>各針路補正のイメージは下図に示すとおりであり、設定パラメータは下表のとおりである。</p>
<div class="image">
<img src="route_correction.png" alt="" width="100%"/>
<div class="caption">
各針路補正のイメージ</div></div>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数名  </th><th class="markdownTableHeadNone">意味  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">基準値  </th><th class="markdownTableHeadNone">単位  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">thetaModForSensing  </td><td class="markdownTableBodyNone">副目標を追加で捉えるための補正角度の上限  </td><td class="markdownTableBodyNone"><picture><source srcset="form_43_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{extra}$" src="form_43.svg" width="42" height="18"/></picture>  </td><td class="markdownTableBodyNone">10  </td><td class="markdownTableBodyNone">deg  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">thetaNormal  </td><td class="markdownTableBodyNone">通常時の高度維持のピッチ角制限  </td><td class="markdownTableBodyNone"><picture><source srcset="form_59_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{normal}$" src="form_59.svg" width="54" height="18"/></picture>  </td><td class="markdownTableBodyNone">10  </td><td class="markdownTableBodyNone">deg  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hNormal  </td><td class="markdownTableBodyNone">通常時の高度維持の目標高度  </td><td class="markdownTableBodyNone"><picture><source srcset="form_45_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$h_{normal}$" src="form_45.svg" width="56" height="18"/></picture>  </td><td class="markdownTableBodyNone">12,000  </td><td class="markdownTableBodyNone">m  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">thetaWithdraw  </td><td class="markdownTableBodyNone">離脱時の高度維持のピッチ角制限  </td><td class="markdownTableBodyNone"><picture><source srcset="form_60_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{withdraw}$" src="form_60.svg" width="68" height="18"/></picture>  </td><td class="markdownTableBodyNone">15  </td><td class="markdownTableBodyNone">deg  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hWithdraw  </td><td class="markdownTableBodyNone">離脱時の高度維持の目標高度  </td><td class="markdownTableBodyNone"><picture><source srcset="form_47_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$h_{withdraw}$" src="form_47.svg" width="70" height="18"/></picture>  </td><td class="markdownTableBodyNone">8,000  </td><td class="markdownTableBodyNone">m  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RTBPitchLimit  </td><td class="markdownTableBodyNone">後退時の高度維持のピッチ角制限  </td><td class="markdownTableBodyNone"><picture><source srcset="form_61_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{RTB}$" src="form_61.svg" width="39" height="18"/></picture>  </td><td class="markdownTableBodyNone">10  </td><td class="markdownTableBodyNone">deg  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RTBAltitude  </td><td class="markdownTableBodyNone">後退時の高度維持の目標高度  </td><td class="markdownTableBodyNone"><picture><source srcset="form_49_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$h_{RTB}$" src="form_49.svg" width="42" height="18"/></picture>  </td><td class="markdownTableBodyNone">9,000  </td><td class="markdownTableBodyNone">m  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">dOutLimit  </td><td class="markdownTableBodyNone">場外防止のために進行方向の直接補正量を算出する判定ラインの場外からの距離  </td><td class="markdownTableBodyNone"><picture><source srcset="form_51_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$d_{limit,ref}$" src="form_51.svg" width="67" height="19"/></picture>  </td><td class="markdownTableBodyNone">7,500  </td><td class="markdownTableBodyNone">m  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dOutLimitThreshold  </td><td class="markdownTableBodyNone">場外防止のために進行方向の直接補正を開始する場外からの距離  </td><td class="markdownTableBodyNone"><picture><source srcset="form_50_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$d_{limit,dir}$" src="form_50.svg" width="63" height="19"/></picture>  </td><td class="markdownTableBodyNone">15,000  </td><td class="markdownTableBodyNone">m  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">dOutLimitKeepSensing  </td><td class="markdownTableBodyNone">場外防止のために横行機動の方向を制限する判定ラインの場外からの距離  </td><td class="markdownTableBodyNone"><picture><source srcset="form_62_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$d_{limit,keepf}$" src="form_62.svg" width="81" height="19"/></picture>  </td><td class="markdownTableBodyNone">10,000  </td><td class="markdownTableBodyNone">m  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dOutLimitTurnAxis  </td><td class="markdownTableBodyNone">場外防止のために旋回軸を制限する判定ラインの場外からの距離  </td><td class="markdownTableBodyNone"><picture><source srcset="form_58_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$d_{limit,turn}$" src="form_58.svg" width="74" height="19"/></picture>  </td><td class="markdownTableBodyNone">10,000  </td><td class="markdownTableBodyNone">m  </td></tr>
</table>
<p>dOutLimitStrength|場外防止のために進行方向を直接補正する際の補正の強さ|0.001|-</p>
<h1 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_command_calculation"></a>
目標進行方向及び目標速度の計算方法</h1>
<p>戦闘機モデルに対する制御出力は以下の要領で計算するものとする。</p>
<p>なお、飛行制御モデルは<a class="el" href="a198030.html#section_r7_contest_scenario_fighter_flight_control">「fromDirAndVel」モード</a> を使用するものとする。</p>
<h2 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_command_direction"></a>
方向指示</h2>
<p>方向指示は、目標進行方向 <picture><source srcset="form_35_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\mbox{\boldmath$d_{dst}$}$" src="form_35.svg" width="32" height="18"/></picture>を与える方式を採用するが、 前項までの各行動に応じて水平方向成分 <picture><source srcset="form_63_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\mbox{\boldmath$d_{dst,h}$}$" src="form_63.svg" width="46" height="19"/></picture>と ピッチ角 <picture><source srcset="form_64_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{d,v}$" src="form_64.svg" width="26" height="19"/></picture>(下向き正)を独立に計算し、   </p><p class="formulaDsp">
<picture><source srcset="form_65_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaDsp" alt="\[\mbox{\boldmath$d_{dst}$} = \mbox{\boldmath$d_{dst,h}$} \mbox{cos}\theta_{d,v}+(0,0,\mbox{sin}\theta_{d,v})^T
\]" src="form_65.svg" width="282" height="23"/></picture>
</p>
<p> とする。 ただし、 <picture><source srcset="form_63_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\mbox{\boldmath$d_{dst,h}$}$" src="form_63.svg" width="46" height="19"/></picture>が現在の針路から <picture><source srcset="form_66_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{limit,cmd}$" src="form_66.svg" width="70" height="19"/></picture>以上離れている場合、 戦闘機への制御出力としては同じ方向に <picture><source srcset="form_66_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{limit,cmd}$" src="form_66.svg" width="70" height="19"/></picture>回転させた方位を <picture><source srcset="form_63_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\mbox{\boldmath$d_{dst,h}$}$" src="form_63.svg" width="46" height="19"/></picture>として用いるものとする。</p>
<p>方向指示に関する設定パラメータは下表のとおりである。</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数名  </th><th class="markdownTableHeadNone">意味  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">基準値  </th><th class="markdownTableHeadNone">単位  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">cmdDeltaAzLimit  </td><td class="markdownTableBodyNone">制御出力の方位変化制限  </td><td class="markdownTableBodyNone"><picture><source srcset="form_66_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta_{limit,cmd}$" src="form_66.svg" width="70" height="19"/></picture>  </td><td class="markdownTableBodyNone">45  </td><td class="markdownTableBodyNone">deg  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="r7_contest_initial_rulebased_agent_command_velocity"></a>
速度指示</h2>
<p>速度指示は、通常時(後退時を除く)は <picture><source srcset="form_68_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$T_{nominal}$" src="form_68.svg" width="65" height="16"/></picture>、回避中は Max AB(= 1.0)としてスロットルで指定するものとする。 後退時は目標速度 <picture><source srcset="form_70_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$V_d=V_{RTB}$" src="form_70.svg" width="82" height="18"/></picture>で指定するものとする。 また、飛行速度が制限値 <picture><source srcset="form_71_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$V_{min}$" src="form_71.svg" width="35" height="18"/></picture>を下回った場合は <picture><source srcset="form_72_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$V_{recovery}$" src="form_72.svg" width="65" height="19"/></picture>以上に回復するまでの間、 通常時・回避中を問わず目標速度 <picture><source srcset="form_73_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$V_d=V_{recovery,dst}$" src="form_73.svg" width="130" height="19"/></picture>として指定するものとする。</p>
<p>速度指示に関する設定パラメータは下表のとおりである。</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">変数名  </th><th class="markdownTableHeadNone">意味  </th><th class="markdownTableHeadNone">本文中の記号  </th><th class="markdownTableHeadNone">基準値  </th><th class="markdownTableHeadNone">単位  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nominalThrottle  </td><td class="markdownTableBodyNone">通常時のスロットル  </td><td class="markdownTableBodyNone"><picture><source srcset="form_68_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$T_{nominal}$" src="form_68.svg" width="65" height="16"/></picture>  </td><td class="markdownTableBodyNone">1.0  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">minimumV  </td><td class="markdownTableBodyNone">速度回復を優先しはじめる速度  </td><td class="markdownTableBodyNone"><picture><source srcset="form_71_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$V_{min}$" src="form_71.svg" width="35" height="18"/></picture>  </td><td class="markdownTableBodyNone">200  </td><td class="markdownTableBodyNone">m/s  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">minimumRecoveryV  </td><td class="markdownTableBodyNone">速度回復を終了する速度  </td><td class="markdownTableBodyNone"><picture><source srcset="form_72_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$V_{recovery}$" src="form_72.svg" width="65" height="19"/></picture>  </td><td class="markdownTableBodyNone">220  </td><td class="markdownTableBodyNone">m/s  </td></tr>
</table>
<p>minimumRecoveryDstV速度回復中の目標速度| <picture><source srcset="form_73_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$V_d=V_{recovery,dst}$" src="form_73.svg" width="130" height="19"/></picture>|250|m/s RTBVelocity|後退時の目標速度| <picture><source srcset="form_70_dark.svg" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$V_d=V_{RTB}$" src="form_70.svg" width="82" height="18"/></picture>|250|m/s </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
